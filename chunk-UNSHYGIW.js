import{B as U,G as V,O as B,a as d,n as j,v as m,w as a,z as R}from"./chunk-3NBVBNCQ.js";import{Aa as I,Cb as E,Dc as k,Eb as f,Ec as S,Fb as _,Kc as G,Ob as T,Pb as v,Sb as y,Tb as N,Ub as A,V as C,Wa as s,Wb as w,Xa as b,Xb as F,Z as g,ca as r,ia as O,lb as x,nb as h,ra as D,sa as M,ta as P,xb as p,yb as l}from"./chunk-C6LWXFOC.js";var X=(()=>{let e=class e{constructor(t,n){this.http=t,this.router=n,this.configuration={}}updateConfiguration(t,n){let o=a.CONFIGURATION_API+t;return this.http.put(o,n)}fetchConfiguration(t){let n=`${a.CONFIGURATION_API}/${t}`;return this.http.get(n).pipe(C(o=>this.configuration=o))}getConfiguration(){return this.configuration}};e.\u0275fac=function(n){return new(n||e)(r(d),r(j))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var K=(()=>{let e=class e{constructor(t){this.http=t,this.getKRA=n=>this.http.get(n)}getDepartments(){let t=a.ORG_API+m.GET_DEPARTMENT;return this.http.get(t)}getDesignationByDept(t){let n=a.ORG_API+m.GET_DESIGNATION_BY_DEPT_ID+"/"+t;return this.http.get(n)}getKraBasedOnDeptDesignation(t,n){let o=a.ACHIEVE_API_HOST+m.GET_KRA_BY_DEPT_DESIGNATION+"/"+t+"/"+n;return this.http.get(o)}};e.\u0275fac=function(n){return new(n||e)(r(d))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var $=i=>({active:i});function q(i,e){if(i&1){let c=E();p(0,"li",6)(1,"button",7),f("click",function(){let n=M(c).$implicit,o=_();return P(o.onDesignationChange(n.department_id,n.designation_id))}),T(2),l()()}if(i&2){let c=e.$implicit,t=_();s(),h("ngClass",F(2,$,c.designation_id===t.activeDesignationId)),s(),v(c.designation_name)}}var pt=(()=>{let e=class e{constructor(t){this.designationKraService=t,this.designationChange=new I,this.searchTerm="",this.activeDesignationId=null}ngOnChanges(){this.search()}search(){this.searchTerm!==""?this.allDesignations=this.designationsData.filter(t=>t.designation_name&&t.designation_name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.allDesignations=this.designationsData}onDesignationChange(t,n){this.activeDesignationId=n,this.designationChange.emit({deptId:t,designationId:n})}};e.\u0275fac=function(n){return new(n||e)(b(K))},e.\u0275cmp=O({type:e,selectors:[["app-designation"]],inputs:{designationsData:"designationsData"},outputs:{designationChange:"designationChange"},standalone:!0,features:[D,w],decls:6,vars:2,consts:[[1,"border","select-designation-panel"],[1,"search-container"],["type","text","id","search_settings","placeholder","Search",1,"form-control","search-input",2,"background-image","url(./assets/search.svg)",3,"ngModelChange","keyup","ngModel"],[1,"designation-btn-wrapper","button-container"],[1,"designation-list"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],[1,"role-btn",3,"click","ngClass"]],template:function(n,o){n&1&&(p(0,"div",0)(1,"div",1)(2,"input",2),A("ngModelChange",function(u){return N(o.searchTerm,u)||(o.searchTerm=u),u}),f("keyup",function(){return o.search()}),l()(),p(3,"div",3)(4,"ul",4),x(5,q,3,4,"li",5),l()()()),n&2&&(s(2),y("ngModel",o.searchTerm),s(3),h("ngForOf",o.allDesignations))},dependencies:[B,R,U,V,G,k,S],styles:[".select-designation-panel[_ngcontent-%COMP%]{height:100%}.select-designation-panel[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #DEE2E6}.select-designation-panel[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:9px 4px 9px 40px;background:transparent no-repeat 13px;height:50px}.select-designation-panel[_ngcontent-%COMP%]   .designation-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.select-designation-panel[_ngcontent-%COMP%]   .designation-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{border-bottom:1px solid #DEE2E6}.select-designation-panel[_ngcontent-%COMP%]   .designation-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .role-btn[_ngcontent-%COMP%]{display:flex;border:none;background-color:#fff;padding:15px;width:100%}.select-designation-panel[_ngcontent-%COMP%]   .designation-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .role-btn.active[_ngcontent-%COMP%]{border-right:6px solid #442400;background-color:#f8f8f8}.search-input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]});let i=e;return i})();export{X as a,K as b,pt as c};
